# NodeJS에서 비동기의 개념

논블로킹 싱글 스레드 방식(점원이 전체 고객을 주문을 다 받고 요리가 완료되면 서빙)
nodeJs에서 비동기 처리는 이벤트 방식으로 풀어낼 수 있는데 서버 내부에서 클라이언트가 요청하는 비동기 메세지를 EventLoop가 처리한다.

**이벤트 루프의 구조**
* 이벤트 루프: 이벤트 발생(setTimeout 등) 시 호출할 콜백 함수들을 관리하고, 호출할 순서를 결정하는 역할
* 태스크 큐: 이벤트 발생 후 호출되어야 할 콜백 함수들이 순서대로 기다리는 공간
* 백그라운드: 타이머나 I/O 작업 콜백, 이벤트 리스너들이 대기하는 공간, 여러 작업이 동시에 실행 될 수 있음


1. 호출 스택에 쌓임
2. setTimeout 실행 시 콜백 run은 백그라운드로 보냄
3. 백그라운드에서 3초 후 태스크 큐로 보냄
4. 호출 스택 실행이 끝나 비워지면
5. 이벤트 루프가 태스크 큐의 콜백을 호출 스택으로 올림
6. run이 호출 스택에서 실행되고 비워짐
7. 이벤트 루프는 태스크 큐에 콜백이 들어올 때까지 대기
